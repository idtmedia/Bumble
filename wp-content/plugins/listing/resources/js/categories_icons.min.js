!function(a){"use strict";var e,o,c;a(function(){var i=categories_icons.categories_icons_url;a(document).on("click",".cat_select_icon_image",function(){e=a(this).parent().find(".cat_icon_image");a('<div id="select_field_icon_dialog"></div>').dialog({width:.5*a(window).width(),height:.8*a(window).height(),modal:!0,resizable:!1,draggable:!1,title:categories_icons.ajax_dialog_title,open:function(){alsp_ajax_loader_show(),a.ajax({type:"POST",url:alsp_js_objects.ajaxurl,data:{action:"alsp_select_category_icon_dialog"},dataType:"html",success:function(o){0!=o&&(a("#select_field_icon_dialog").html(o),e.val()&&a(".alsp-icon[icon_file='"+e.val()+"']").addClass("alsp-selected-icon"))},complete:function(){alsp_ajax_loader_hide()}}),a(document).on("click",".ui-widget-overlay",function(){a("#select_map_icon_dialog").remove()})},close:function(){a("#select_field_icon_dialog").remove()}})}),a(document).on("click",".cat_alsp-icon",function(){a(".alsp-selected-icon").removeClass("alsp-selected-icon");var o=a(this).attr("icon_file");alsp_ajax_loader_show(),a.ajax({type:"POST",url:alsp_js_objects.ajaxurl,data:{action:"alsp_select_category_icon",icon_file:o,category_id:e.parent().find(".category_id").val()},dataType:"html",success:function(a){0!=a&&e&&(e.val(o),e.parent().find(".cat_icon_image_tag").attr("src",i+o).show(),e=!1)},complete:function(){a(this).addClass("alsp-selected-icon"),a("#select_field_icon_dialog").remove(),alsp_ajax_loader_hide()}})}),a(document).on("click","#cat_reset_icon",function(){a(".alsp-selected-icon").removeClass("alsp-selected-icon"),alsp_ajax_loader_show(),a.ajax({type:"POST",url:alsp_js_objects.ajaxurl,data:{action:"alsp_select_category_icon",category_id:e.parent().find(".category_id").val()},dataType:"html",success:function(a){e&&(e.val(""),e.parent().find(".cat_icon_image_tag").attr("src","").hide(),e=!1)},complete:function(){a("#select_field_icon_dialog").remove(),alsp_ajax_loader_hide()}})}),a(document).on("click",".select_marker_icon_image",function(){o=a(this).parent().find(".marker_icon_image"),c=a(this).parent().find(".alsp-marker-icon-tag");a('<div id="select_marker_icon_dialog"></div>').dialog({width:.5*a(window).width(),height:.8*a(window).height(),modal:!0,resizable:!1,draggable:!1,title:categories_icons.ajax_marker_dialog_title,open:function(){alsp_ajax_loader_show(),a.ajax({type:"POST",url:alsp_js_objects.ajaxurl,data:{action:"alsp_select_field_icon"},dataType:"html",success:function(e){0!=e&&(a("#select_marker_icon_dialog").html(e),o.val()&&a("#"+o.val()).addClass("alsp-selected-icon"))},complete:function(){alsp_ajax_loader_hide()}}),a(document).on("click",".ui-widget-overlay",function(){a("#select_marker_icon_dialog").remove()})},close:function(){a("#select_field_icon_dialog").remove()}})}),a(document).on("click",".fa-icon",function(){a(".alsp-selected-icon").removeClass("alsp-selected-icon"),o.val(a(this).attr("id")),alsp_ajax_loader_show(),a.ajax({type:"POST",url:alsp_js_objects.ajaxurl,data:{action:"alsp_select_category_marker_icon",icon_name:o.val(),category_id:o.parent().find(".category_id").val()},dataType:"html",success:function(a){0!=a&&o&&(c.removeClass().addClass("alsp-marker-icon-tag fa "+o.val()),o=!1)},complete:function(){a(this).addClass("alsp-selected-icon"),a("#select_marker_icon_dialog").remove(),alsp_ajax_loader_hide()}})}),a(document).on("click","#reset_fa_icon",function(){a(".alsp-selected-icon").removeClass("alsp-selected-icon"),o.val(""),alsp_ajax_loader_show(),a.ajax({type:"POST",url:alsp_js_objects.ajaxurl,data:{action:"alsp_select_category_marker_icon",category_id:o.parent().find(".category_id").val()},dataType:"html",success:function(a){o&&(c.removeClass().addClass("alsp-marker-icon-tag"),o=!1)},complete:function(){a("#select_marker_icon_dialog").remove(),alsp_ajax_loader_hide()}})}),a(".marker_color").wpColorPicker(),a(document).on("focus",".marker_color",function(){var e=a(this).parent();a(this).wpColorPicker(),e.find(".wp-color-result").click()}),a(document).on("click",".save_color",function(){var e=a(this).parents(".alsp-content").find(".marker_color");alsp_ajax_loader_show(),a.ajax({type:"POST",url:alsp_js_objects.ajaxurl,data:{action:"alsp_select_category_marker_color",color:e.val(),category_id:e.parents(".alsp-content").find(".category_id").val()},dataType:"html",complete:function(){alsp_ajax_loader_hide()}})})}),a(function(){var o=categories_icons.categories_icons_url;a(document).on("click",".select_icon_image2",function(){e=a(this).parent().find(".icon_image2");a('<div id="select_field_icon_dialog2"></div>').dialog({width:.5*a(window).width(),height:.8*a(window).height(),modal:!0,resizable:!1,draggable:!1,title:categories_icons.ajax_dialog_title,open:function(){alsp_ajax_loader_show(),a.ajax({type:"POST",url:alsp_js_objects.ajaxurl,data:{action:"alsp_select_category_icon_dialog2"},dataType:"html",success:function(o){0!=o&&(a("#select_field_icon_dialog2").html(o),e.val()&&a(".alsp-icon2[icon_file='"+e.val()+"']").addClass("alsp-selected-icon2"))},complete:function(){alsp_ajax_loader_hide()}}),a(document).on("click",".ui-widget-overlay",function(){a("#select_map_icon_dialog2").remove()})},close:function(){a("#select_field_icon_dialog2").remove()}})}),a(document).on("click",".alsp-icon2",function(){a(".alsp-selected-icon2").removeClass("alsp-selected-icon2");var c=a(this).attr("icon_file2");alsp_ajax_loader_show(),a.ajax({type:"POST",url:alsp_js_objects.ajaxurl,data:{action:"alsp_select_category_icon2",icon_file2:c,category_id2:e.parent().find(".category_id2").val()},dataType:"html",success:function(a){0!=a&&e&&(e.val(c),e.parent().find(".icon_image_tag2").attr("src",o+c).show(),e=!1)},complete:function(){a(this).addClass("alsp-selected-icon2"),a("#select_field_icon_dialog2").remove(),alsp_ajax_loader_hide()}})}),a(document).on("click","#reset_icon2",function(){a(".alsp-selected-icon2").removeClass("alsp-selected-icon2"),alsp_ajax_loader_show(),a.ajax({type:"POST",url:alsp_js_objects.ajaxurl,data:{action:"alsp_select_category_icon2",category_id2:e.parent().find(".category_id2").val()},dataType:"html",success:function(a){e&&(e.val(""),e.parent().find(".icon_image_tag2").attr("src","").hide(),e=!1)},complete:function(){a("#select_field_icon_dialog2").remove(),alsp_ajax_loader_hide()}})})})}(jQuery);